<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TODO App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <link rel="stylesheet" href="../style.css">

</head>

<body style="font-family: sans-serif;
margin: 0 50px;
background: linear-gradient(to bottom, #68EACC 0%, #497BE8 100%);
overflow: hidden;
display: flex;
justify-content: center;
align-items: center;
height: 100vh;">
  <div  style="background: #fff;
  max-width: 500px;
  width: 500%;
  max-height: 500px;
  margin: 120px auto;
  padding: 50px;
  border-radius: 5px;
  box-shadow: 0px 10px 15px rgba(0,0,0,0.1);
  overflow-y: scroll;
  "
  class="text-center my-3"
  >
    <h4 class="text-center my-3" >TODO App</h4>
   
    
    <div  class="text-center my-3" id="addNew" data-bs-toggle="modal" data-bs-target="#form">
      <span>Add New Task</span>
      <i class="fas fa-plus"></i>
      <a class="nav-link" href="/UserProfile">Edit Profile</a>
    </div>

    <!-- Modal -->
    <form class="modal fade"  action="/add" method="post" id="form" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Task</h5>
            
          </div>
          <div class="modal-body">
            <p>Task Title</p>
            <input type="text" name="task" placeholder="Add a new task" required>
            <div id="msg"></div>
            <br>
            <p>Due Date</p>
            <input type="date" name="date" class="form-control" name="" id="dateInput">
            <br>
            <p>Description</p>
            <textarea name="description" class="form-control" id="textarea" cols="30" rows="5"></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" id="add" class="btn btn-primary">Add</button>
          </div>
        </div>
      </div>
    </form>
<!-- edit form -->

    <form class="modal fade"  action="/edit" method="post" id="form1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Edit Task</h5>
           
          </div>
          <div class="modal-body">
            <p>Old Task Title</p>
            <input type="text" name="otask" placeholder="old task" required>
            <div id="msg"></div>
            <br>
            <p>New Task Title</p>
            <input type="text" name="ntask" placeholder="new task" required>
            <div id="msg"></div>
            <br>
            <p>Due Date</p>
            <input type="date" name="date" class="form-control" name="" id="dateInput">
            <br>
            <p>Description</p>
            <textarea name="description" class="form-control" id="textarea" cols="30" rows="5"></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" id="add" class="btn btn-primary">Edit</button>
          </div>
        </div>
      </div>
    </form>
   
          

    <h5 >Tasks</h5>
    <!-- //class="text-center my-3" -->
    <!-- <ul >
      <% tasks.forEach(function(task) { %>
        <li>
          <span><%= task.task %></span>
         <p> <span><%= task.date %></span></p>
         <p> <span><%= task.description %></span></p>
          <form action="/delete/<%= task.id %>" method="post" class="delete-form">
            <button type="submit"> <i class="fas fa-trash-alt"></i></button>
          </form>
        </li>
      <% }); %>
    </ul> -->

    <!-- <div id="tasks" style="border: 3px solid #abcea1;
    background-color: #e2eede;
    border-radius: 6px;
    padding: 5px;
    display: grid;
    gap: 4px;"> -->
        
            <% tasks.forEach(function(task) { %>
              <div id="tasks" style="position: relative;
              list-style: none;
              height: 300px;
              width:300px;
               line-height: 45px;
              margin-bottom: 8px;
              background: hwb(0 95% 5%);
              border-radius: 3px;
              padding: 0 15px;
              cursor: default;
              overflow: hidden;">
                <span><%= task.date %></span>
                <p><%= task.task %></p>
              <p><%= task.description %></p>
                
                <form style="justify-self: right;vertical-align:bottom;text-align: right;" action="/delete/<%= task.id %>" method="post" class="delete-form">
                  <div  id="edit" data-bs-toggle="modal" data-bs-target="#form1" >
            
                    <i class='fas fa-pencil-alt' style='font-size:20px;color:rgb(38, 0, 255)'></i>
                  </div>
                 
                  <button type="submit"> <i class='fas fa-trash-alt' style='font-size:20px;color:red'></i></button>
                </form>
   
              </div>
            <% }); %>
          
   
  </div>
</body>
<script src="main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</html>